(this["webpackJsonpkey-group"]=this["webpackJsonpkey-group"]||[]).push([[0],{141:function(e,t,n){e.exports=n(268)},146:function(e,t,n){},147:function(e,t,n){},268:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(47),c=n.n(o),s=(n(146),n(147),n(24)),u=n(19),l=n(71),i=n.n(l),p=n(9),m=n(51),f=n(48);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O={isAuth:localStorage.getItem("username")},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND_LOGIN":return localStorage.setItem("username","Admin"),localStorage.setItem("password","123456"),E({},e,{isAuth:!0});case"LOGOUT":return localStorage.removeItem("username"),E({},e,{isAuth:!1});default:return e}},h=Object(p.b)((function(e){return{isAuth:e.auth.isAuth}}),{logout:function(){return{type:"LOGOUT"}}})((function(e){var t=e.logout,n=e.isAuth;return a.a.createElement("div",{className:i.a.header},a.a.createElement(u.b,{to:"/"},"Main"),a.a.createElement(u.b,{to:"/posts"},"Posts"),a.a.createElement(u.b,{to:"/profile"},"Profile"),n&&a.a.createElement("span",{onClick:t,className:i.a.logout},"Logout"))})),g=function(){return a.a.createElement("div",{className:"main"},a.a.createElement("h1",null,"Main"))},v=n(74),y=n.n(v),P=n(112),w=n(113),j=function(){return w.get("https://jsonplaceholder.typicode.com/posts")};function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(n,!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _={posts:null,pertOfPosts:null,counter:null},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_POSTS":return N({},e,{posts:t.posts,pertOfPosts:t.posts.slice(0,19),counter:9});case"SET_NEW_PART_POSTS":return e.counter===e.posts.length-1||e.counter>e.posts.length-1?e:N({},e,{counter:e.counter+10,pertOfPosts:e.posts.slice(0,e.counter)});default:return e}},T=Object(p.b)((function(e){return{posts:e.posts.posts,pertOfPosts:e.posts.pertOfPosts}}),{getPosts:function(){return function(){var e=Object(P.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:n=e.sent,t({type:"SET_POSTS",posts:n.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},getNewPartPosts:function(){return{type:"SET_NEW_PART_POSTS"}}})((function(e){e.posts;var t=e.pertOfPosts,n=e.getPosts,o=e.getNewPartPosts;return Object(r.useEffect)((function(){n()}),[n]),window.addEventListener("scroll",(function(){document.documentElement.getBoundingClientRect().bottom<document.documentElement.clientHeight+100&&o()})),a.a.createElement("div",{className:"posts"},t&&t.map((function(e){return a.a.createElement(D,{key:e.id,title:e.title,body:e.body})})))})),D=function(e){var t=e.title,n=e.body;return a.a.createElement("div",{className:"post"},a.a.createElement("div",{className:"post_title"},t),a.a.createElement("div",{className:"post_body"},n))},k=n(7),L=Object(k.d)((function(e){return Object(p.b)((function(e){return{isAuth:e.auth.isAuth}}))((function(t){return t.isAuth?a.a.createElement(e,t):a.a.createElement(s.a,{to:"/login"})}))}))((function(){return a.a.createElement("div",{className:"profile"},a.a.createElement("h1",null,"Profile"))})),I=n(107),x=n(108),G=Object(p.b)((function(e){return{isAuth:e.auth.isAuth}}),{sendLogin:function(e){return function(t){"Admin"===e.username&&"123456"===e.password?t(function(e){return{type:"SEND_LOGIN",dataLogin:e}}(e)):t(Object(f.a)("login",{_error:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u0432\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0435 \u0432\u0435\u0440\u043d\u043e "}))}}})((function(e){var t=e.isAuth,n=e.sendLogin;return t?a.a.createElement(s.a,{to:"/profile"}):a.a.createElement("div",{className:"main"},a.a.createElement(U,{onSubmit:function(e){n(e)}}))})),U=Object(x.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error;return a.a.createElement("form",{onSubmit:t},a.a.createElement("div",null,"Username"),a.a.createElement(I.a,{validate:[],name:"username",type:"text",placeholder:"username",component:"input"}),a.a.createElement("div",null,"Password"),a.a.createElement(I.a,{validate:[],name:"password",type:"password",placeholder:"password",component:"input"}),n&&a.a.createElement("div",null,n),a.a.createElement("div",null,a.a.createElement("button",null,"Login")))}));var W=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(h,null),a.a.createElement("div",{className:"App-content"},a.a.createElement(s.d,null,a.a.createElement(s.b,{exact:!0,path:"/",render:function(){return a.a.createElement(g,null)}}),a.a.createElement(s.b,{path:"/posts",render:function(){return a.a.createElement(T,null)}}),a.a.createElement(s.b,{path:"/profile",render:function(){return a.a.createElement(L,null)}}),a.a.createElement(s.b,{path:"/login",render:function(){return a.a.createElement(G,null)}}),a.a.createElement(s.b,{path:"*",render:function(){return a.a.createElement("div",null,a.a.createElement("h1",null,"404 NOT FOUND"))}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=n(115),H=n(109),R=Object(k.c)({auth:b,posts:A,form:H.a}),C=Object(k.e)(R,Object(k.a)(B.a));c.a.render(a.a.createElement(u.a,null,a.a.createElement(p.a,{store:C},a.a.createElement(W,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})),window.store=C},71:function(e,t,n){e.exports={header:"Header_header__3ZfwD",logout:"Header_logout__2GdG5"}}},[[141,1,2]]]);
//# sourceMappingURL=main.d37bf508.chunk.js.map